# MLOG

누구나 사용할 수 있는 블로그 서비스

## 기술 스택

| <img width="100px" src="https://user-images.githubusercontent.com/52567149/209458737-81209906-00b6-4c74-94d2-95a85d4df362.png" ></img> | <img width="100px" src="https://user-images.githubusercontent.com/52567149/209458977-618c2560-0c35-47c9-961b-2c695c5dfc88.png" ></img> | <img width="100px" src="https://user-images.githubusercontent.com/52567149/209458998-286eb602-9a50-420a-a2d1-cac62d1416c0.png" ></img> | <img width="100px" src="https://user-images.githubusercontent.com/52567149/209458737-81209906-00b6-4c74-94d2-95a85d4df362.png" ></img> | <img width="100px" src="https://user-images.githubusercontent.com/52567149/209459015-59b9abed-532d-4575-b5e0-98b8947ffebc.png" ></img> |
| :------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------: |
|                                                                 React                                                                  |                                                                Emotion                                                                 |                                                              React Query                                                               |                                                                 Recoil                                                                 |                                                                Next.js                                                                 |

| <img width="100px" src="https://user-images.githubusercontent.com/52567149/209459026-94751fff-c02d-43f5-a54f-f8036b73e7ff.png" ></img> | <img width="100px" src="https://user-images.githubusercontent.com/52567149/209459057-036c442b-482c-4611-b5ec-fe1766faa1a1.png" ></img> | <img width="100px" src="https://user-images.githubusercontent.com/52567149/209459064-839c124b-20a4-47c6-a130-f77a8021203c.png" ></img> | <img width="100px" src="https://user-images.githubusercontent.com/52567149/209459075-9a56535d-4fcb-4528-8e4b-71d4b62eed8a.png" ></img> | <img width="100px" src="https://user-images.githubusercontent.com/52567149/209459112-006d1df1-6e87-4933-93c9-4c3af3b90517.png" ></img> |
| :------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------: |
|                                                                 ESlint                                                                 |                                                                Prettier                                                                |                                                                  Jest                                                                  |                                                         React Testing Library                                                          |                                                                Cypress                                                                 |

## 고민한 부분들

### 단위 테스트를 작성하여 믿을 수 있는 코드를 작성하자.

- 안정성 있는 프로젝트를 하고 싶었습니다. 그래서 jest와 react-testing-library를 사용해서 컴포넌트 단위로 테스트를 작성했습니다. 그 결과 코드를 수정하거나 리팩토링할 때에도 코드가 정상적으로 수행되는지, side effect를 빠르게 감지 함으로써 효율적인 개발 사이클을 유지할 수 있었습니다.
- 테스트를 작성하면서 개발의 효율성뿐만 아니라 리팩토링 관점에서도 큰 효과를 가져올 수 있었습니다. 예를 들면 컴포넌트의 책임, 역할이 무엇인지 명확하게 드러낼 수 있었고, 이에 따라 명확한 기준을 가지고 리팩토링할 수 있었습니다. 이 프로젝트에서 현재 커버리지 90%를 달성했고, 현재까지도 100%를 목표로 꾸준히 테스트를 작성하고 있습니다.

### E2E 테스트를 작성하여 사용자에게 신뢰할 수 있는 서비스를 제공하자.

- 단위 테스트만으로 서비스가 제대로 작동하는지 하는지 판단하는 것은 어렵다고 생각했습니다. 그래서 Cypress를 사용해서 각 기능에 대해서 E2E 테스트를 작성했습니다. 그 결과 제가 생각한 시나리오대로 다양한 조건에서 시스템을 테스트함으로써 서비스가 성공적으로 수행되는지 체크할 수 있었습니다.

### CI를 구축하여 개발 프로세스의 효율성을 높이자.

- 프로젝트를 진행하면서 각자의 코드를 머지할 떄 test, lint, bundle size 등을 확인할 때 많은 리소스가 들어간다고 판단했습니다. 그래서 Github Action으로 PR이 생성될 때마다 text, lint 테스트를 자동화하였고, Bundle Analysis를 사용해서 기존의 bundle과 업데이트된 bundle의 size를 자동으로 비교할 수 있도록 구현했습니다. ~~또한 추가되는 Action이 많아질수록 늘어나는 시간을 Cache 작업을 통해 단축했습니다.~~

### 내 웹사이트의 접근성을 향상시키자.

- 제 프로젝트에서 블로그의 특성에 맞게 검색 최적화는 필수라고 생각했습니다. Open graph를 페이지마다 동적으로 head에 포함함으로써 페이지를 공유하고 표시하는 방식을 개선하였고, Sitemap 생성하고 Google Search Console에 등록함으로써 페이지가 구글에서 검색될 수 있도록 만들었습니다.
- 상황에 맞는 시멘틱 태그를 사용하려고 노력했고, 모두가 사용할 수 있는 웹을 만들기 위해 몇 가지 접근성 가이드라인을 준수했습니다.

- [접근성 향상을 위한 작업들](https://github.com/f-lab-edu/my-blog/issues/44)

### 내 프로젝트에 맞는 폴더구조를 선택하자.

- 프로젝트 초기에 구조를 설계하는 방법으로 atomic 패턴을 사용했습니다. 해당 패턴을 사용하면 구조를 명확하게 하고, 컴포넌트 재사용이 용이할 것으로 생각했기 때문입니다. 하지만 사용하면서 가독성이 떨어지고, 생산성에 영향을 주는 문제 등 다양한 문제에 직면하게 되었고, 결론적으로 제 프로젝트 규모와는 맞지 않다고 판단했습니다.
- 현재는 도메인별로 폴더구조를 나누어 사용하고 있습니다. 관련 있는 것들끼리 묶어서 쉽게 찾을 수 있도록 배치했습니다. 그 결과 이전 atomic 패턴을 사용하던 구조 보다 더 효율적으로 프로젝트를 관리할 수 있었습니다.

### 유연한 컴포넌트 설계

- 컴포넌트는 사용자의 요구사항에 맞춰서 계속해서 확장할 수 있어야 합니다. 저는 유연함이 필요하다고 생각되는 컴포넌트에 Compound Components 패턴을 사용했습니다. 결과적으로 제가 원하는 유연하고 확장할 수 있는 컴포넌트 설계를 할 수 있었다고 생각합니다. 제가 해당 패턴을 사용한 이유는 객체지향 관점에서 볼 때 다음과 같습니다. 첫 번째 개방폐쇄 원칙을 만족한다고 생각했습니다. 두 번째 제어 역전을 만족한다고 생각했습니다. 세 번쨰 컴포넌트를 일관성 있게 설계함으로써 직관성 있는 코드를 작성할 수 있다고 생각했습니다.

### 효율적으로 에러를 트래킹하자.

- 개발자의 개발환경에서 발생하는 문제는 찾을 수 있지만, 다양한 환경에서 사용하는 유저들이 겪는 문제는 쉽게 찾을 수 없을 것으로 판단했습니다. 이렇게 흔히 개발자가 찾을 수 없는 문제들을 빠르게 인식하기 위해서 sentry를 사용했습니다. 그리고 Source Map을 사용하여 문제가 발생한 코드를 빠르게 발견할 수 있었습니다.
